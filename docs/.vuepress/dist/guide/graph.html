<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Graph | CRender</title>
    <meta name="generator" content="VuePress 1.5.2">
    <link rel="icon" href="/favicon.ico">
    <meta name="description" content="基于Canvas的矢量图形渲染插件">
    <meta name="keywords" content="crender,bi,可视化,开源,免费,大屏">
    <link rel="preload" href="/assets/css/0.styles.968ad44f.css" as="style"><link rel="preload" href="/assets/js/app.395ab179.js" as="script"><link rel="preload" href="/assets/js/4.25db6120.js" as="script"><link rel="preload" href="/assets/js/16.605a2332.js" as="script"><link rel="prefetch" href="/assets/js/1.bc9e8856.js"><link rel="prefetch" href="/assets/js/10.804f4e86.js"><link rel="prefetch" href="/assets/js/11.b8fa810e.js"><link rel="prefetch" href="/assets/js/12.eed80d94.js"><link rel="prefetch" href="/assets/js/13.1cf1f22e.js"><link rel="prefetch" href="/assets/js/14.58ae08ab.js"><link rel="prefetch" href="/assets/js/15.79fa1023.js"><link rel="prefetch" href="/assets/js/17.04bdba5a.js"><link rel="prefetch" href="/assets/js/18.f50bfe81.js"><link rel="prefetch" href="/assets/js/2.4c457b91.js"><link rel="prefetch" href="/assets/js/5.b0e01bf6.js"><link rel="prefetch" href="/assets/js/6.2dbc51d3.js"><link rel="prefetch" href="/assets/js/7.05b905e4.js"><link rel="prefetch" href="/assets/js/8.43638680.js"><link rel="prefetch" href="/assets/js/9.059fd5ba.js">
    <link rel="stylesheet" href="/assets/css/0.styles.968ad44f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">CRender</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="http://0x.crender.jiaminghi.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  0.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/extend/" class="nav-link">
  扩展
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><a href="https://github.com/DataV-Team/CRender" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="http://0x.crender.jiaminghi.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  0.x
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="/guide/" class="nav-link router-link-active">
  指南
</a></div><div class="nav-item"><a href="/extend/" class="nav-link">
  扩展
</a></div><div class="nav-item"><a href="/support/" class="nav-link">
  支持
</a></div><div class="nav-item"><a href="https://github.com/DataV-Team/CRender" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/guide/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/guide/crender.html" class="sidebar-link">CRender</a></li><li><a href="/guide/graph.html" aria-current="page" class="active sidebar-link">Graph</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/graph.html#实例化" class="sidebar-link">实例化</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#实例属性" class="sidebar-link">实例属性</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/graph.html#render" class="sidebar-link">render</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#shape" class="sidebar-link">shape</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#style" class="sidebar-link">style</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#visible" class="sidebar-link">visible</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#drag" class="sidebar-link">drag</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#hover" class="sidebar-link">hover</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#index" class="sidebar-link">index</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationdelay" class="sidebar-link">animationDelay</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationframe" class="sidebar-link">animationFrame</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationcurve" class="sidebar-link">animationCurve</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationpause" class="sidebar-link">animationPause</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#hoverrect" class="sidebar-link">hoverRect</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#onmouseenter" class="sidebar-link">onMouseEnter</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#onmouseouter" class="sidebar-link">onMouseOuter</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#onclick" class="sidebar-link">onClick</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#status" class="sidebar-link">status</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationqueue" class="sidebar-link">animationQueue</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/graph.html#实例方法" class="sidebar-link">实例方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/graph.html#attr" class="sidebar-link">attr</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animation" class="sidebar-link">animation</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#animationend" class="sidebar-link">animationEnd</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#pauseanimation" class="sidebar-link">pauseAnimation</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#playanimation" class="sidebar-link">playAnimation</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#clone" class="sidebar-link">clone</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/graph.html#生命周期" class="sidebar-link">生命周期</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/graph.html#beforeadd" class="sidebar-link">beforeAdd</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#added" class="sidebar-link">added</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#beforedraw" class="sidebar-link">beforeDraw</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#drawed" class="sidebar-link">drawed</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#beforemove" class="sidebar-link">beforeMove</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#moved" class="sidebar-link">moved</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#beforedelete" class="sidebar-link">beforeDelete</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#deleted" class="sidebar-link">deleted</a></li></ul></li><li class="sidebar-sub-header"><a href="/guide/graph.html#覆盖默认行为" class="sidebar-link">覆盖默认行为</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/guide/graph.html#draw" class="sidebar-link">draw</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#setgraphcenter" class="sidebar-link">setGraphCenter</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#hovercheck" class="sidebar-link">hoverCheck</a></li><li class="sidebar-sub-header"><a href="/guide/graph.html#move" class="sidebar-link">move</a></li></ul></li></ul></li><li><a href="/guide/style.html" class="sidebar-link">Style</a></li><li><a href="/guide/graphs.html" class="sidebar-link">基础图形</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="graph"><a href="#graph" class="header-anchor">#</a> Graph</h1> <p>这里将介绍<strong>Graph</strong>基类的实例化、实例属性、实例方法及生命周期等，所有内置图形都扩展自它，你也可以基于它扩展新的图形，<a href="/extend/">扩展新图形</a>。</p> <div class="custom-block warning"><p class="custom-block-title">宽高异常</p> <p>实例化图形后，没有添加至 CRender 实例时，调用任何实例方法都会抛出异常。</p></div> <h2 id="实例化"><a href="#实例化" class="header-anchor">#</a> 实例化</h2> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description Graph 基类
 * @param {GraphConfig&lt;Shape&gt;} config 图形配置
 */</span>
<span class="token keyword">class</span> <span class="token class-name">Graph</span> <span class="token punctuation">{</span>
  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token parameter">config<span class="token operator">:</span> GraphConfig<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="fold-box"><div class="tip">点击以展示/隐藏 GraphConfig 类型详情</div> <div class="fold-container fold"><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Optional <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../common'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./style'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> EaseCurve <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jiaminghi/transition/types/types/core/index'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> RgbaValue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@jiaminghi/color/types/types'</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> HoverRect <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> Point <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token function-variable function">HoverCheck</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">point<span class="token operator">:</span> Point</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token function-variable function">Move</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>

<span class="token comment">// eslint-disable-next-line</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> GraphConfig<span class="token operator">&lt;</span>Shape <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * @description Graph shape
   */</span>
  shape<span class="token operator">:</span> Shape
  <span class="token comment">/**
   * @description Graph style
   */</span>
  style<span class="token operator">?</span><span class="token operator">:</span> StyleConfig<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> RgbaValue<span class="token operator">&gt;</span>
  <span class="token comment">/**
   * @description Weather to render graph
   */</span>
  visible<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * @description Whether to enable drag
   */</span>
  drag<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * @description Whether to enable hover
   */</span>
  hover<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * @description Graph rendering index
   *  Give priority to index high graph in rendering
   */</span>
  index<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/**
   * @description Animation delay time(ms)
   */</span>
  animationDelay<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/**
   * @description Number of animation frames
   */</span>
  animationFrame<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token comment">/**
   * @description Animation dynamic curve (Supported by transition)
   * @link https://github.com/jiaming743/Transition
   */</span>
  animationCurve<span class="token operator">?</span><span class="token operator">:</span> EaseCurve
  <span class="token comment">/**
   * @description Weather to pause graph animation
   */</span>
  animationPause<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * @description Rectangular hover detection zone
   *  Use this method for hover detection first
   * @example hoverRect = [0, 0, 100, 100] // [Rect start x, y, Rect width, height]
   */</span>
  hoverRect<span class="token operator">?</span><span class="token operator">:</span> HoverRect
  <span class="token comment">/**
   * @description Mouse enter event handler
   */</span>
  onMouseEnter<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>
  <span class="token comment">/**
   * @description Mouse outer event handler
   */</span>
  onMouseOuter<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>
  <span class="token comment">/**
   * @description Mouse click event handler
   */</span>
  onClick<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>
  <span class="token comment">/**
   * @description Funciton of draw graph
   */</span>
  draw<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>
  <span class="token comment">/**
   * @description Function of set Graph center
   */</span>
  setGraphCenter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">?</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/**
   * @description Funciton of check graph is hovered
   */</span>
  hoverCheck<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">point<span class="token operator">:</span> Point</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * @description Function of Graph move
   */</span>
  move<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token comment">/**
   * @description Life cycle beforeAdd
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  beforeAdd<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token comment">/**
   * @description Life cycle added
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  added<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token comment">/**
   * Life Cycle when graph before draw
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  beforeDraw<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token comment">/**
   * Life Cycle when graph drawed
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  drawed<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token comment">/**
   * Life Cycle when graph before move
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  beforeMove<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
  <span class="token comment">/**
   * @description Life Cycle when graph moved
   */</span>
  <span class="token comment">// eslint-disable-next-line</span>
  moved<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">enum</span> Status <span class="token punctuation">{</span>
  <span class="token constant">STATIC</span> <span class="token operator">=</span> <span class="token string">'STATIC'</span><span class="token punctuation">,</span>
  <span class="token constant">HOVER</span> <span class="token operator">=</span> <span class="token string">'HOVER'</span><span class="token punctuation">,</span>
  <span class="token constant">ACTIVE</span> <span class="token operator">=</span> <span class="token string">'ACTIVE'</span><span class="token punctuation">,</span>
  <span class="token constant">DRAG</span> <span class="token operator">=</span> <span class="token string">'DRAG'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> AnimationKey <span class="token operator">=</span> <span class="token string">'shape'</span> <span class="token operator">|</span> <span class="token string">'style'</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> AnimationFrameStateItem<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span> <span class="token operator">=</span> Optional<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span> <span class="token operator">|</span> StyleConfig<span class="token operator">&lt;</span>RgbaValue<span class="token operator">&gt;</span>

<span class="token comment">// eslint-disable-next-line</span>
<span class="token keyword">export</span> <span class="token keyword">type</span> AnimationQueueItem<span class="token operator">&lt;</span>Shape <span class="token operator">=</span> <span class="token builtin">any</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> AnimationKey
  frameState<span class="token operator">:</span> AnimationFrameStateItem<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div></div></div> <h2 id="实例属性"><a href="#实例属性" class="header-anchor">#</a> 实例属性</h2> <p>这里是<strong>Graph</strong>实例属性的介绍。</p> <h3 id="render"><a href="#render" class="header-anchor">#</a> render</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 所属的CRender实例
 */</span>
render<span class="token operator">!</span><span class="token operator">:</span> CRender
</code></pre></div><h3 id="shape"><a href="#shape" class="header-anchor">#</a> shape</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形形状信息
 */</span>
shape<span class="token operator">!</span><span class="token operator">:</span> Shape
</code></pre></div><h3 id="style"><a href="#style" class="header-anchor">#</a> <a href="/guide/style.html">style</a></h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形样式信息
 */</span>
style<span class="token operator">!</span><span class="token operator">:</span> Style
</code></pre></div><h3 id="visible"><a href="#visible" class="header-anchor">#</a> visible</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 是否渲染图形
 */</span>
visible<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span>
</code></pre></div><h3 id="drag"><a href="#drag" class="header-anchor">#</a> drag</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 是否允许拖拽
 *
 * 启用拖拽的前置条件是启用hover检测
 */</span>
drag<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><h3 id="hover"><a href="#hover" class="header-anchor">#</a> hover</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 是否启用hover检测
 *
 * 不启用将无法触发onMouseEnter / onMouseOuter / onClick事件
 * 也不能进行拖拽操作
 */</span>
hover<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><h3 id="index"><a href="#index" class="header-anchor">#</a> index</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description index越高 层级越高
 *
 * 优先渲染层级高者
 */</span>
index<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">1</span>
</code></pre></div><h3 id="animationdelay"><a href="#animationdelay" class="header-anchor">#</a> animationDelay</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 动画延迟(毫秒)
 */</span>
animationDelay<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">0</span>
</code></pre></div><h3 id="animationframe"><a href="#animationframe" class="header-anchor">#</a> animationFrame</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 每次动画的帧数
 *
 * 帧数越多 动画时长越长
 */</span>
animationFrame<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">30</span>
</code></pre></div><h3 id="animationcurve"><a href="#animationcurve" class="header-anchor">#</a> <a href="http://transition.jiaminghi.com/" target="_blank" rel="noopener noreferrer">animationCurve<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 动画动效曲线
 * @link https://github.com/jiaming743/Transition
 */</span>
animationCurve<span class="token operator">:</span> EaseCurve <span class="token operator">=</span> <span class="token string">'linear'</span>
</code></pre></div><h3 id="animationpause"><a href="#animationpause" class="header-anchor">#</a> animationPause</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 是否处于暂停动画状态
 */</span>
animationPause<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><h3 id="hoverrect"><a href="#hoverrect" class="header-anchor">#</a> hoverRect</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 矩形悬浮检测盒
 * 如果配置该项 将优先使用检测盒进行悬浮检测
 * @example hoverRect = [0, 0, 100, 100] // [Rect start x, y, Rect width, height]
 */</span>
hoverRect<span class="token operator">?</span><span class="token operator">:</span> HoverRect
</code></pre></div><h3 id="onmouseenter"><a href="#onmouseenter" class="header-anchor">#</a> onMouseEnter</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description Mouse enter事件处理器
 */</span>
onMouseEnter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="onmouseouter"><a href="#onmouseouter" class="header-anchor">#</a> onMouseOuter</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description Mouse outer事件处理器
 */</span>
onMouseOuter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="onclick"><a href="#onclick" class="header-anchor">#</a> onClick</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description Mouse click事件处理器
 */</span>
onClick<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="status"><a href="#status" class="header-anchor">#</a> status</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形当前状态
 */</span>
status<span class="token operator">:</span> Status <span class="token operator">=</span> Status<span class="token punctuation">.</span><span class="token constant">STATIC</span>
</code></pre></div><h3 id="animationqueue"><a href="#animationqueue" class="header-anchor">#</a> animationQueue</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形动画队列数据
 */</span>
animationQueue<span class="token operator">:</span> AnimationQueueItem<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>启用图形的<strong>mouseEnter</strong>，<strong>mouseOuter</strong>，<strong>click</strong>等事件支持需要将<code>hover</code>属性配置为<code>true</code>。扩展的新图形需要配置<strong>hoverCheck</strong>方法以提供事件支持。</p></div> <h2 id="实例方法"><a href="#实例方法" class="header-anchor">#</a> 实例方法</h2> <p>这里是<strong>Graph</strong>基类实例方法的介绍。</p> <h3 id="attr"><a href="#attr" class="header-anchor">#</a> attr</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 修改图形状态
 * @param {keyof GraphConfig&lt;Shape&gt;} key 要修改的属性键
 * @param {Optional&lt;GraphConfig&lt;Shape&gt;[typeof key]&gt;} value 修改的目标状态
 * @param {boolean} reDraw 是否重新渲染
 */</span>
<span class="token function">attr</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token keyword">keyof</span> GraphConfig<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> Optional<span class="token operator">&lt;</span>GraphConfig<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token keyword">typeof</span> key<span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>
  reDraw<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="animation"><a href="#animation" class="header-anchor">#</a> animation</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 修改图形形状或样式(伴随动画)
 * @param {AnimationKey} key 要修改的属性键 ('shape' | 'style')
 * @param {Optional&lt;Shape&gt; | StyleConfig&lt;string | RgbaValue&gt;} value 修改的目标状态
 * @param {boolean} 是否等待后续操作 暂不渲染
 */</span>
<span class="token keyword">async</span> <span class="token function">animation</span><span class="token punctuation">(</span>key<span class="token operator">:</span> <span class="token string">'shape'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> Optional<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span><span class="token punctuation">,</span> wait<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token keyword">async</span> <span class="token function">animation</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> <span class="token string">'style'</span><span class="token punctuation">,</span>
  value<span class="token operator">:</span> StyleConfig<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> RgbaValue<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  wait<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span>
<span class="token keyword">async</span> <span class="token function">animation</span><span class="token punctuation">(</span>
  key<span class="token operator">:</span> AnimationKey<span class="token punctuation">,</span>
  value<span class="token operator">:</span> Optional<span class="token operator">&lt;</span>Shape<span class="token operator">&gt;</span> <span class="token operator">|</span> StyleConfig<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> RgbaValue<span class="token operator">&gt;</span><span class="token punctuation">,</span>
  wait<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="animationend"><a href="#animationend" class="header-anchor">#</a> animationEnd</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 直接跳至最后一帧动画
 */</span>
<span class="token function">animationEnd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pauseanimation"><a href="#pauseanimation" class="header-anchor">#</a> pauseAnimation</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 暂停动画
 */</span>
<span class="token function">pauseAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="playanimation"><a href="#playanimation" class="header-anchor">#</a> playAnimation</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 尝试进行动画
 */</span>
<span class="token function">playAnimation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="clone"><a href="#clone" class="header-anchor">#</a> clone</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 克隆图形
 * @param {boolean} 是否自动添加至所属CRender实例
 */</span>
<span class="token function">clone</span><span class="token punctuation">(</span>add<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">this</span> <span class="token punctuation">{</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="生命周期"><a href="#生命周期" class="header-anchor">#</a> 生命周期</h2> <h3 id="beforeadd"><a href="#beforeadd" class="header-anchor">#</a> beforeAdd</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形添加前被调用
 */</span>
beforeAdd<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="added"><a href="#added" class="header-anchor">#</a> added</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形添加后被调用
 */</span>
added<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="beforedraw"><a href="#beforedraw" class="header-anchor">#</a> beforeDraw</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形渲染前被调用
 */</span>
beforeDraw<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="drawed"><a href="#drawed" class="header-anchor">#</a> drawed</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形渲染后被调用
 */</span>
drawed<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="beforemove"><a href="#beforemove" class="header-anchor">#</a> beforeMove</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形移动前被调用
 * @param {MouseEvent} e 鼠标事件
 */</span>
beforeMove<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="moved"><a href="#moved" class="header-anchor">#</a> moved</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形移动后被调用
 * @param {MouseEvent} e 鼠标事件
 */</span>
moved<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="beforedelete"><a href="#beforedelete" class="header-anchor">#</a> beforeDelete</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形删除前被调用
 */</span>
beforeDelete<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h3 id="deleted"><a href="#deleted" class="header-anchor">#</a> deleted</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形删除后被调用
 */</span>
deleted<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">any</span>
</code></pre></div><h2 id="覆盖默认行为"><a href="#覆盖默认行为" class="header-anchor">#</a> 覆盖默认行为</h2> <p>实例化时，你可以配置下列方法，覆盖默认行为。</p> <h3 id="draw"><a href="#draw" class="header-anchor">#</a> draw</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形的绘制方法
 */</span>
draw<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">Function</span>
</code></pre></div><h3 id="setgraphcenter"><a href="#setgraphcenter" class="header-anchor">#</a> setGraphCenter</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 设置图形中心点的方法
 */</span>
setGraphCenter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">?</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
</code></pre></div><h3 id="hovercheck"><a href="#hovercheck" class="header-anchor">#</a> hoverCheck</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形的悬浮检测方法
 */</span>
hoverCheck<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">point<span class="token operator">:</span> Point</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">boolean</span>
</code></pre></div><h3 id="move"><a href="#move" class="header-anchor">#</a> move</h3> <div class="language-typescript extra-class"><pre class="language-typescript"><code><span class="token comment">/**
 * @description 图形的移动方法
 */</span>
move<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">e<span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/guide/crender.html" class="prev">
        CRender
      </a></span> <span class="next"><a href="/guide/style.html">
        Style
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.395ab179.js" defer></script><script src="/assets/js/4.25db6120.js" defer></script><script src="/assets/js/16.605a2332.js" defer></script>
  </body>
</html>
